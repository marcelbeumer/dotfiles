[ -z "$DOTFILES_ENV" ] && \
    echo "Please set DOTFILES_ENV"

set -o vi
alias l="ls"
alias ll="ls -ahl"
alias jdate="date +%d\ %h\ %Y\ %H:%M" # journaling date

# Dev
alias g=git
alias a2start="sudo apachectl start"
alias a2restart="sudo apachectl restart"
alias a2stop="sudo apachectl stop"
alias a2="a2restart"
alias vimhttpd="vim $HTTPDCONF"
alias journal_date="date +\%a\ \%d\ \%B\ \%Y\ \%Hh\%M"

function glomexprj() {
  cd ~/dev/glomex/vvs-$1/ && tabset --title
}

function search_and_replace() {
  echo replacing $1 with $2
  expr=s/$1/$2/g
  ack -l $1 | xargs sed -i '' -e $expr
}

function proxy_us() {
  echo "Going through US proxy `cat ~/.proxy_us`"
  networksetup -setsocksfirewallproxy Wi-Fi localhost 9123
  ssh `cat ~/.proxy_us` -ND 9123
  unproxy
}

function unproxy() {
  echo "Disabling proxy"
  networksetup -setsocksfirewallproxystate Wi-Fi off
  echo "Done"
}
